---
import H2 from "./H2.astro"

import { contentfulClient } from "../lib/contentful"

import { documentToHtmlString } from "@contentful/rich-text-html-renderer"
import type { EntryFieldTypes } from "contentful"

interface Project {
  contentTypeId: "experience"
  fields: {
    content: EntryFieldTypes.RichText
  }
}

const entries = await contentfulClient.getEntries<Project>({
  content_type: "experience",
})
---

<section
  class="flex animate-fade-up flex-col gap-6"
  style={{ animationDelay: "0.30s", animationFillMode: "both" }}
>
  <H2>Work Experience</H2>
  {
    entries.items.map((item) => (
      <article set:html={documentToHtmlString(item.fields.content)} />
    ))
  }
</section>
